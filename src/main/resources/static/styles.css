:root {
  --bg: #0f172a;
  --panel: #111827;
  --muted: #94a3b8;
  --stroke: rgba(255, 255, 255, 0.08);
  --pass: #22c55e;
  --fail: #f43f5e;
  --warn: #facc15;
  --accent: #60a5fa;
  --text: #e2e8f0;
}
* {
  box-sizing: border-box;
}
body {
  margin: 0;
  font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
  background: radial-gradient(circle at 20% 20%, rgba(96, 165, 250, 0.08), transparent 30%), radial-gradient(circle at 80% 0%, rgba(34, 197, 94, 0.06), transparent 25%), var(--bg);
  color: var(--text);
  min-height: 100vh;
}
.page {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}
.main {
  flex: 1 1 auto;
  overflow: auto;
}
.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  background: linear-gradient(120deg, rgba(96, 165, 250, 0.08), rgba(34, 197, 94, 0.08));
  border-bottom: 1px solid var(--stroke);
  gap: 16px;
  flex-wrap: nowrap;
  overflow: hidden;
}
.brand { display: flex; align-items: center; gap: 10px; flex: 1; min-width: 180px; overflow: hidden; }
.logo-box {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  background: rgba(255,255,255,0.08);
  display: grid;
  place-items: center;
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  overflow: hidden;
}
.logo-img { width: 32px; height: 32px; object-fit: contain; display: block; }
.clock {
  font-weight: 700;
  letter-spacing: 0.4px;
  color: var(--text);
  background: rgba(255,255,255,0.08);
  padding: 6px 10px;
  border-radius: 10px;
  border: 1px solid var(--stroke);
}
.topbar-right {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: nowrap;
  justify-content: flex-end;
  background: transparent;
  border-radius: 12px;
  padding: 6px 0;
  white-space: nowrap;
}
.topbar-actions { display: flex; align-items: center; gap: 10px; flex: 1 0 auto; justify-content: flex-end; }
.topbar-meta { display: inline-flex; align-items: center; gap: 8px; }
.status-right { align-self: center; }
h1 {
  margin: 0;
  font-size: 22px;
  letter-spacing: 0.2px;
  font-weight: 800;
}
.subtitle {
  color: var(--muted);
  font-size: 13px;
}
.status-pill {
  padding: 6px 12px;
  border-radius: 999px;
  background: var(--panel);
  border: 1px solid var(--stroke);
  font-weight: 600;
  font-size: 12px;
  min-width: 90px;
  text-align: center;
  display: inline-block;
  flex-shrink: 0;
}
.layout {
  display: grid;
  grid-template-columns: minmax(0, 2.2fr) minmax(0, 1.1fr);
  gap: 18px;
  padding: 18px 24px 28px;
  height: auto;
  overflow: visible;
}
.layout-single { grid-template-columns: 1fr; }
.col {
  display: flex;
  flex-direction: column;
  gap: 18px;
  min-height: 0;
}
.card {
  background: var(--panel);
  border: 1px solid var(--stroke);
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.18);
  min-height: 0;
}
.card--settings {
  min-height: 200px;
}
.card--pulse {
  min-height: 260px;
}
.card--stream {
  min-height: 520px;
}
.card--history {
  height: 280px;
  max-height: 280px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
.card--log {
  min-height: 280px;
  max-height: 420px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
.log-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}
.card h2 {
  margin: 0 0 12px;
  font-size: 16px;
}
label {
  display: block;
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 6px;
}
input,
select,
textarea {
  width: 100%;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid var(--stroke);
  background: rgba(255, 255, 255, 0.04);
  color: var(--text);
  font-size: 13px;
}
select {
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
}
select option {
  background: #0f172a;
  color: var(--text);
}
button {
  border: none;
  border-radius: 10px;
  padding: 10px 14px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.05s ease, opacity 0.1s ease;
}
button:active {
  transform: translateY(1px);
}
.nav-tabs {
  display: flex;
  gap: 8px;
  padding: 6px 8px;
  background: rgba(255,255,255,0.05);
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 12px 28px rgba(0,0,0,0.25);
  backdrop-filter: blur(8px);
  flex-wrap: nowrap;
  overflow-x: auto;
}
.nav-tabs button { white-space: nowrap; }
.nav-tab {
  position: relative;
  background: rgba(255,255,255,0.06);
  color: var(--text);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 8px 12px;
  font-weight: 700;
  letter-spacing: 0.2px;
  transition: all 0.2s ease;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
}
.nav-tab.active {
  background: linear-gradient(135deg, #22c55e, #60a5fa);
  color: #0b1021;
  border-color: transparent;
  box-shadow: 0 10px 24px rgba(96,165,250,0.35);
}
.nav-tab:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 18px rgba(0,0,0,0.2);
  border-color: rgba(255,255,255,0.15);
}
.primary {
  background: linear-gradient(135deg, #22c55e, #60a5fa);
  color: #0b1021;
}
.run-cta {
  width: 100%;
  margin-top: 12px;
  padding: 14px 16px;
  font-size: 15px;
  letter-spacing: 0.2px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}
.run-cta.running {
  animation: pulse-run 1s infinite;
}
.run-cta .dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #0b1021;
}
@keyframes pulse-run {
  0% { box-shadow: 0 0 0 0 rgba(96,165,250,0.45); }
  70% { box-shadow: 0 0 0 10px rgba(96,165,250,0); }
  100% { box-shadow: 0 0 0 0 rgba(96,165,250,0); }
}
.ghost {
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
  border: 1px solid var(--stroke);
}
.ghost.disabled,
.primary.disabled {
  opacity: 0.4;
  cursor: not-allowed;
  pointer-events: none;
}
.disabled-input {
  opacity: 0.5;
  pointer-events: none;
}
.grid {
  display: grid;
  gap: 12px;
}
.grid-3 {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}
.grid-2 {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
.grid-2 .card { min-height: 100%; }
.stat-row {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
}
.stat {
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--stroke);
}
.stat .label {
  font-size: 12px;
  color: var(--muted);
}
.stat .value {
  font-size: 18px;
  font-weight: 700;
}
.chip {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 12px;
  border: 1px solid var(--stroke);
  color: var(--muted);
}
.scenario {
  border: 1px solid var(--stroke);
  border-radius: 12px;
  padding: 14px 16px;
  margin-bottom: 12px;
  background: linear-gradient(135deg, rgba(255,255,255,0.025), rgba(255,255,255,0.01));
  min-height: 64px;
  box-shadow: 0 10px 20px rgba(0,0,0,0.22);
}
.scenario-row {
  display: flex;
  flex-direction: column;
  gap: 8px;
  cursor: pointer;
  
}
.scenario-pass { border-left: 4px solid var(--pass); }
.scenario-fail { border-left: 4px solid var(--fail); }
.scenario-header {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 10px;
  flex-wrap: wrap;
}
.scenario-check {
  position: absolute;
  top: 12px;
  left: -12px;
}
.scenario-check input {
  width: 16px;
  height: 16px;
  cursor: pointer;
}
.scenario-check.checked::after {
  content: "ðŸ¥’";
  position: absolute;
  left: 22px;
  top: -2px;
  font-size: 14px;
}
.scenario-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 4px;
}
.inline-meta {
  flex-wrap: nowrap;
  gap: 12px;
}
.scenario .video-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 10px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.05);
  color: var(--text);
  font-weight: 600;
  font-size: 11px;
}
.scenario-name {
  font-weight: 600;
  display: block;
  white-space: normal;
  word-break: break-word;
  line-height: 1.35;
  font-size: 14px;
}
.scenario-steps {
  margin-top: 8px;
  color: var(--muted);
  font-size: 13px;
  line-height: 1.5;
  word-break: break-word;
  background: rgba(255,255,255,0.02);
  border: 1px dashed var(--stroke);
  padding: 10px;
  border-radius: 10px;
}
.step-line {
  margin: 6px 0;
  display: flex;
  align-items: baseline;
  gap: 8px;
}
.step-keyword {
  font-weight: 700;
  margin-right: 6px;
  opacity: 0.35;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.4px;
}
.step-keyword-pill {
  display: inline-flex;
  align-items: center;
  padding: 4px 8px;
  border-radius: 8px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.08);
  opacity: 0.7;
  font-size: 11px;
}
.step-text {
  color: var(--text);
}
.kw-given { color: #60a5fa; }
.kw-when { color: #facc15; }
.kw-then { color: #22c55e; }
.kw-and, .kw-but { color: #94a3b8; }
.scenario-video {
  margin-top: 8px;
  max-width: 160px;
  border-radius: 8px;
  border: 1px solid var(--stroke);
  display: block;
}
.badge-pass, .badge-fail {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  min-width: 62px;
  font-weight: 700;
  font-size: 12px;
}
.badge-pass { color: var(--pass); }
.badge-fail { color: var(--fail); }
.scenario-meta .badge-pass,
.scenario-meta .badge-fail {
  order: -1;
}
.divider { border-top: 1px solid var(--stroke); margin: 12px 0; }
.history-item { padding: 8px 10px; border-radius: 10px; border: 1px solid var(--stroke); margin-bottom: 8px; display:flex; justify-content: space-between; align-items:center; gap:10px; min-height: 60px; }
.history-item a { color: var(--text); text-decoration: none; }
.history-meta { color: var(--muted); font-size: 12px; }
.reports-summary .stat { background: rgba(255,255,255,0.04); }
.reports-summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); }
.reports-spark { margin-top: 10px; height: 64px; }
.report-run {
  border: 1px solid var(--stroke);
  border-radius: 12px;
  padding: 12px 14px;
  margin-bottom: 10px;
  background: rgba(255,255,255,0.02);
}
.report-run-header { display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap; }
.report-run-meta { color: var(--muted); font-size:12px; display:flex; gap:8px; flex-wrap:wrap; }
.report-detail { margin-top: 10px; padding-top: 8px; border-top: 1px dashed var(--stroke); }
.report-scenario { border:1px solid var(--stroke); border-radius:10px; padding:10px; margin-bottom:8px; background: rgba(255,255,255,0.02); }
.report-scenario-header { display:flex; align-items:center; justify-content:space-between; gap:8px; flex-wrap:wrap; cursor:pointer; }
.report-scenario-name { font-weight:700; color: var(--text); }
.report-steps { margin-top:8px; display:none; color: var(--muted); font-size:12px; line-height:1.45; }
.report-steps.open { display:block; }
.report-steps ul { padding-left:18px; margin:0; }
.badge { padding:4px 8px; border-radius:999px; border:1px solid var(--stroke); font-size:11px; font-weight:700; }
.tiny-btn { padding:6px 10px; font-size:12px; }
.pager { display:flex; align-items:center; gap:10px; justify-content:flex-end; margin: 6px 0 12px; }
.report-run-summary { display:flex; align-items:center; gap:12px; flex-wrap:wrap; margin: 8px 0 12px; }
.mini-donut {
  position: relative;
  width: 64px;
  height: 64px;
  border-radius: 50%;
  border: 1px solid var(--stroke);
}
.mini-donut::after {
  content: "";
  position: absolute;
  inset: 14px;
  background: var(--panel);
  border-radius: 50%;
  border: 1px solid var(--stroke);
}
.mini-donut-label {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 700;
  font-size: 12px;
}
.report-run-counters { display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.ai-summary {
  border: 1px solid var(--stroke);
  border-radius: 12px;
  padding: 12px;
  background: rgba(255,255,255,0.03);
  margin: 8px 0 12px;
}
.ai-summary-title { font-weight:700; margin:0 0 6px; font-size:13px; display:flex; align-items:center; gap:6px; }
.scenario-video-pill {
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding: 4px 8px;
  border-radius: 10px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.05);
  color: var(--text);
  font-size: 11px;
  font-weight: 600;
}
.scenario-video-pill.disabled { opacity: 0.5; cursor: default; }
.plan-list {
  margin-top: 10px;
  border: 1px solid var(--stroke);
  border-radius: 10px;
  padding: 10px;
  background: rgba(255,255,255,0.02);
}
.plan-item {
  border: 1px solid var(--stroke);
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}
.plan-actions { display:flex; align-items:center; gap:8px; }
.plan-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
  color: var(--muted);
  font-size: 12px;
}
.plan-title {
  font-weight: 700;
  color: var(--text);
}
pre {
margin: 0;
background: #0b1021;
color: #cbd5f5;
border-radius: 10px;
padding: 12px;
max-height: 280px;
overflow: auto;
border: 1px solid var(--stroke);
font-family: "JetBrains Mono", "SFMono-Regular", ui-monospace, monospace;
font-size: 12px;
}
.spark {
position: relative;
height: 64px;
background: linear-gradient(180deg, rgba(96,165,250,0.15), rgba(96,165,250,0.03));
border: 1px dashed var(--stroke);
border-radius: 10px;

overflow: hidden;
}
#scenarios { max-height: none; height: 100%; overflow: auto; padding-right: 4px; }
#history { height: 100%; max-height: 100%; overflow: auto; padding-right: 4px; margin: 0; }
#log {
  min-height: 220px;
  height: auto;
  max-height: 100%;
  flex: 1 1 auto;
  overflow: auto;
  box-sizing: border-box;
  width: 100%;
  min-height: 0;
  margin-top: 0;
}
.history-item { min-height: 52px; }
.history-item .chip { white-space: nowrap; }
.donut, .spark { min-width: 120px; }
.spark-bar {
position: absolute;
bottom: 0;
width: 6px;
background: var(--accent);
border-radius: 6px;
opacity: 0.8;
}
.pill-toggle {
display: inline-flex;
align-items: center;
gap: 8px;
border: 1px solid var(--stroke);
border-radius: 999px;
padding: 6px 10px;
cursor: pointer;
background: rgba(255,255,255,0.04);
}
.pill-toggle input { width: auto; }
.toggle {

display: inline-flex;
align-items: center;
gap: 8px;
font-size: 12px;
color: var(--muted);
cursor: pointer;
user-select: none;
}
.toggle input {
opacity: 0;
width: 0;
height: 0;
}
.slider {
position: relative;
display: inline-block;

width: 40px;
height: 20px;
background: rgba(255,255,255,0.12);
border-radius: 999px;
transition: all 0.2s ease;
border: 1px solid var(--stroke);
}
.slider::before {
content: "";
position: absolute;
left: 3px;
top: 2px;
width: 16px;
height: 16px;
border-radius: 50%;
background: #cbd5e1;
transition: all 0.2s ease;
box-shadow: 0 2px 6px rgba(0,0,0,0.25);
}
.toggle input:checked + .slider {
background: linear-gradient(135deg, #22c55e, #60a5fa);
}
.toggle input:checked + .slider::before {
transform: translateX(18px);
background: #0f172a;
}
.toggle-label {
color: var(--text);
font-size: 12px;
}
.donut {
position: relative;
width: 120px;
height: 120px;
border-radius: 50%;

margin: 0 auto;
background: conic-gradient(var(--pass) 0deg, var(--pass) 0deg, var(--fail) 0deg, var(--fail) 0deg, rgba(255,255,255,0.08) 0deg);
}
.donut::after {
content: "";
position: absolute;
inset: 16px;
background: var(--panel);
border-radius: 50%;
border: 1px solid var(--stroke);
}
.donut-label {
position: absolute;
inset: 0;
display: grid;
place-items: center;
font-weight: 700;
}
.modal-backdrop {
position: fixed;
inset: 0;
background: rgba(0,0,0,0.45);
display: grid;
place-items: center;
z-index: 999;
}
.modal {
background: #0f172a;
border: 1px solid rgba(255,255,255,0.08);
border-radius: 12px;
padding: 16px;
width: 320px;
box-shadow: 0 16px 40px rgba(0,0,0,0.35);
}
.modal h3 { margin: 0 0 8px; font-size: 16px; }
.modal p { margin: 0 0 12px; color: #94a3b8; font-size: 13px; }
.modal input {
width: 100%;
padding: 8px;
border-radius: 8px;
border: 1px solid rgba(255,255,255,0.12);
background: rgba(255,255,255,0.04);
color: #e2e8f0;
}
.modal-actions {
display: flex;
justify-content: flex-end;
gap: 8px;
margin-top: 12px;
}
.modal-wide {
max-width: 900px;
width: 90vw;
}
.page-section { display: none; }
.page-section.active { display: block; }
@media (max-width: 1100px) {
.layout { grid-template-columns: 1fr; }
}
@media (max-width: 768px) {
  header { flex-direction: column; align-items: flex-start; gap: 12px; }
  .topbar-right { width: 100%; justify-content: center; text-align: center; flex-wrap: wrap; }
  header > div:last-child {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
  }
  .status-pill { order: 2; margin-left: auto; }
  .layout {
    padding: 10px;
    gap: 12px;
  }
  .grid-3 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .grid-2 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .stat-row { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .card { padding: 14px; }
  .card--stream, .card--history { height: auto; max-height: none; }
  #history, #scenarios { max-height: none; }
  .scenario-meta.inline-meta { flex-wrap: wrap; }
  h1 { font-size: 18px; }
  .chip { font-size: 11px; }
  .ghost, .primary { width: auto; }
  .clock { display: none; }
}
.cmd-preview {
margin-top: 12px;
padding: 12px 14px;
border-radius: 12px;
background: linear-gradient(135deg, rgba(96,165,250,0.08), rgba(34,197,94,0.05));
border: 1px solid var(--stroke);
box-shadow: 0 10px 24px rgba(0,0,0,0.18);
}
.cmd-preview__header {
display: flex;
align-items: center;
justify-content: space-between;
cursor: pointer;
gap: 10px;
}
.cmd-preview__label {
font-size: 11px;
letter-spacing: 0.5px;
text-transform: uppercase;
color: var(--muted);
margin-bottom: 6px;
display: flex;
align-items: center;
gap: 6px;
}
.cmd-preview__label svg {
width: 14px;
height: 14px;
opacity: 0.8;
}
.cmd-preview__body {
display: flex;
align-items: center;
gap: 8px;
font-family: "JetBrains Mono", "SFMono-Regular", ui-monospace, monospace;
font-size: 12px;
color: var(--text);
word-break: break-all;
background: rgba(255,255,255,0.04);
border: 1px solid var(--stroke);
border-radius: 10px;
padding: 10px 12px;
margin-top: 8px;
}
.cmd-preview__chevron {
width: 16px;
height: 16px;
transition: transform 0.2s ease;
color: var(--muted);
}
.cmd-chip {
padding: 4px 8px;
border-radius: 999px;
background: rgba(255,255,255,0.08);
border: 1px solid var(--stroke);
color: var(--text);
font-size: 11px;
}

.scenario-selected { box-shadow: 0 12px 24px rgba(34,197,94,0.18); border-color: rgba(34,197,94,0.35);}
.scenario-check { display:inline-flex; align-items:center; gap:6px;}
.scenario-check input { width:16px; height:16px; cursor:pointer;}
.scenario-cuke { font-size:14px; opacity:0.9;}
.suite-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  margin-bottom: 8px;
  border: 1px solid var(--stroke);
  border-radius: 10px;
  background: rgba(255,255,255,0.02);
}
.suite-item input {
  width: 16px;
  height: 16px;
  cursor: pointer;
}
.suite-name {
  flex: 1;
  font-size: 13px;
  line-height: 1.4;
  word-break: break-word;
}
.suite-cuke {
  display: none;
  opacity: 0;
  transition: all 0.2s ease;
  transform: translateY(-2px);
}
.suite-item input:checked ~ .suite-cuke {
  display: inline-block;
  opacity: 1;
  transform: translateY(0);
}
.suite-group { margin-bottom: 12px; }
.suite-group-title {
  font-weight: 700;
  color: var(--muted);
  font-size: 12px;
  margin: 8px 2px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.feature-block { margin-bottom: 14px; }
.feature-title {
  font-weight: 700;
  color: var(--muted);
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 6px;
}
